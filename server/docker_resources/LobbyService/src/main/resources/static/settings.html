<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <script src="jquery.min.js"></script>
    <script src="loginUtils.js"></script>
    <script src="cookieTokenUtils.js"></script>
    <script src="navbar.js"></script>
    <script src="contextPathResolver.js"></script>
    <script type="text/javascript" src="settings.js"></script>
    <link rel="stylesheet" href="bootstrap.min.css"/>
    <link rel="stylesheet" href="lobbyservice.css"/>
</head>

<!--"onload"-script removes API unreachable warning if backend was successfully tested-->
<body onload="anonymousIntercept();timedTokenRenew();setupNavbar('settings');getUserDataAndFillPreferenceTable();registerButtonHandlers();">
<div id=RowDivWithBackground class="container fill bg-white">

    <!--dynamic load would be better than static copies over different html files. But it causes issues with the handler mapping (order messed up / unreliable.)-->
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="navbar  w-100 order-3">
            <!-- content of navbar is filled programmatically , by navbar.js-->
            <ul id='nav-ul' class="navbar-nav ml-auto"></ul>
        </div>
    </nav>


    <!--    white overlay, perfect responsiveness-->
    <div class=fillinner>

        <!--actual page starts here-->
        <br/>
        <h1 style="text-align:center" class="title">Settings</h1>
        <title>Settings</title>

        <!--form to register a new user.-->
        <!--callback is registered in accounts.js -->
        <h3>Account Settings</h3>

        <!--        table with 3 columns (property, current value, update button)-->
        <div class="mt-3">
            <table class="table table-hover" id="prefstable">
                <tr>
                    <th class="span1" id="property_key">Property</th>
                    <th class="span3" id="value_value">Current Value</th>
                    <th class="span1" class="text-center" id="property_actions">Actions</th>
                </tr>
                <tbody>
                <tr>
                    <td><b>Name</b>:</td>
                    <td id="name-td"></td>
                    <!--                    names serve as identifiers and cannot be updated-->
                    <td></td>
                </tr>
                <tr>
                    <td><b>Password</b>:</td>
                    <td>
                        <input id="password-field" type="password" class="form-control"
                               aria-describedby="basic-addon2" placeholder="****************">
                        <small id="passwordHelpBlock" class="form-text text-muted">
                            <!--                    (?=.*[0-9])(?=.*[a-z])(?=.*[A-Z]).{8,32} -->
                            8-32 characters long, at least one upper, lower, digit, special char.
                        </small>
                    </td>
                    <td>
                        <div class="text-right">
                            <button class="btn btn-outline-primary" type="button" id="password-update">
                                Update Password
                            </button>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td><b>Preferred Colour</b>:</td>
                    <td>
                        <input class="flex-child  text-right" type="color" id="colour-field"
                               style="width:38px; height:38px;">
                    </td>
                    <td>
                        <div class="text-right">

                            <button class="btn btn-outline-primary" type="button" id="colour-update">Update
                                Colour
                            </button>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td><b>Role</b>:</td>
                    <td id="role-td">
                    </td>
                    <td>
                    </td>
                </tr>
                <tr>
                    <td><b>Danger Zone</b>:</td>
                    <td>
                    </td>
                    <td>
                        <div class="text-right">
                            <button class="btn btn-outline-danger" type="button" id="remove-account">Delete Account
                            </button>
                        </div>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
        <!--        <tr>' +-->
        <!--            // Player name-->
        <!--            '<td>' + capitalizeFirstLetter(player.name) + '</td>' +-->

        <!--            // Salted hash of password-->
        <!--            '  <td><div class="input-group mb-3"><input id="password-field-' + player.name + '" type="password" class="form-control" aria-describedby="basic-addon2" placeholder="****************">' +-->
        <!--                '  <div class="input-group-append">' +-->
        <!--                    '    <button class="btn btn-outline-secondary" type="button" id="password-edit-' + player.name + '">Update</button>' +-->
        <!--                    '  </div></div></td>' +-->

        <!--            // Role of player-->
        <!--            '<td>' + capitalizeFirstLetter(player.role.slice(5)) + '</td>' +-->

        <!--            // show preferred colour-->
        <!--            '<td><div class="container"><div class="row"><div class="col-xs-6"><input class="flex-child" type="color" id="colour-field-' + player.name + '" value="#' + player.preferredColour + '" style="width:38px; height:38px;"></div><div class="col-xs-6"><button class="btn btn-outline-secondary mr-1" type="button" id="colour-edit-' + player.name + '">Update</button></div></div></div></td>' +-->

        <!--            // add a buttons that allow altering that user-->
        <!--            '<td>        ' +-->
        <!--                '<div class="input-group-append">\n' +-->
        <!--                    '<button class="btn btn-outline-danger" type="button" id="remove-' + player.name + '">Delete</button>\n' +-->
        <!--                    '</div>' +-->
        <!--                '</td>' +-->
        <!--            '</tr>-->
    </div>
</body>
</html>